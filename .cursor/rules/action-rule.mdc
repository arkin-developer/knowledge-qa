---
alwaysApply: true
---

# 代码修改确认规则

## 执行原则

在进行任何代码修改操作之前，AI助手必须遵循以下原则：

### 1. 默认行为：建议而非执行
- **不要主动修改代码**：除非用户明确要求执行
- **提供建议和方案**：分析问题并提供解决方案，但不直接修改
- **展示预期修改**：可以展示将要修改的内容，但不执行

### 2. 明确触发词：**"Do as I say"**
只有当用户明确说出以下指令时，才可以执行代码修改：
- "Do as I say"
- "按我说的做"
- "执行修改"
- "开始修改"
- "确认执行"

### 3. 修改前确认
即使用户说了触发词，在执行前也应该：
1. 确认要修改的文件和内容
2. 说明将要进行的具体操作
3. 等待用户最终确认

### 4. 例外情况
以下情况可以不等待触发词：
- 用户明确说"帮我修改..."、"帮我添加..."、"帮我删除..."等直接指令
- 用户提供了完整的修改内容和明确的执行意图
- 紧急修复（如语法错误、安全漏洞等），但需要说明原因

## 工作流程示例

### ❌ 错误做法
```
用户: 这里有个bug
AI: [立即修改代码]
```

### ✅ 正确做法
```
用户: 这里有个bug
AI: 我看到了问题所在。这是因为...
    建议的修改方案是...
    需要我帮你执行修改吗？请说"Do as I say"确认。

用户: Do as I say
AI: 好的，开始执行修改...
    [执行代码修改]
```

## 注意事项
- 保持与用户的沟通，确保理解用户意图
- 在不确定时，优先选择建议而非执行
- 尊重用户的代码，不做不必要的修改
- 记住用户偏好：代码中尽量减少注释
